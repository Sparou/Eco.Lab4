![](https://img.shields.io/badge/c-%2300599C.svg?style=for-the-badge&logo=c&logoColor=white)

# EcoOS-Lab-4

## Постановка задачи

Реализация алгоритма планирования `«Длинная задача первая»` / `«Longest Job First» (LJF)`

## Описание алгоритма

`Longest Job First (LJF)` — это алгоритм планирования задач, в котором процессор всегда выбирает для выполнения ту задачу, которая требует наибольшего времени для завершения. Этот алгоритм противоположен алгоритму `Shortest Job First (SJF)`, который отдает приоритет задачам с наименьшим временем выполнения.

### Плюсы
1.	Минимизация переключений контекста: так как длинные задачи выполняются реже, уменьшается количество переключений между задачами, что снижает накладные расходы.
2.	Оптимально для определенных типов нагрузок: В сценариях, где приоритет отдаётся более длительным и критическим задачам, LJF может быть полезным.
### Минусы
1.	Увеличение времени отклика: Короткие задачи могут ждать очень долго, что приводит к увеличению среднего времени отклика и задержек.
2.	Несправедливость по отношению к коротким задачам: Короткие задачи могут испытывать "голодание", если постоянно добавляются более длинные задачи.
3.	Требование точного знания времени выполнения задач: необходимо заранее знать или точно оценивать время выполнения каждой задачи, что не всегда возможно.
4.	Меньшая гибкость: В реальных системах задачи могут иметь разные приоритеты, и выполнение самых длинных задач может не всегда быть оптимальным.
5.	В общем, LJF может быть полезным в определенных специфических сценариях, но из-за его недостатков в реальных системах он используется редко.

## Реализация

```C
void ChangeTaskOrder(CEcoTaskScheduler1Lab_C761620F* pCMe, uint64_t* task_order, uint16_t task_count) {
    uint64_t i, j;
    uint64_t real_task_count;
    uint64_t tmp_task;

    real_task_count = task_count;

    for (i = 0; i < real_task_count - 1; ++i) {
		for (j = i+1; j < real_task_count; ++j) {
			if (pCMe->m_pTaskList[task_order[i]].runtime < pCMe->m_pTaskList[task_order[j]].runtime) {
				tmp_task = task_order[i];
				task_order[i] = task_order[j];
				task_order[j] = tmp_task;
			}
		}
	}
}
```

## QEMU 
![image](https://github.com/Sparou/Eco.Lab4/blob/main/screenshots/qemu.png)
